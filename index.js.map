{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Функція створення та додавання розмітки галереї\n\nexport function createGallery(images) {\n  const gallery = document.querySelector('.gallery');\n\n  let galleryArr = [];\n\n  images.forEach(\n    ({\n      webformatURL,\n      largeImageURL,\n      tags,\n      likes,\n      views,\n      comments,\n      downloads,\n    }) => {\n      const item = document.createElement('li');\n      item.classList.add('gallery-item');\n\n      const link = document.createElement('a');\n      link.setAttribute('href', largeImageURL);\n      item.append(link);\n\n      const image = document.createElement('img');\n      image.setAttribute('src', webformatURL);\n      image.setAttribute('alt', tags);\n      link.append(image);\n\n      // Створення і додавання опису картинки\n\n      const description = document.createElement('ul');\n      description.classList.add('description');\n      const descriptionSettings = ['Likes', 'Vievs', 'Comments', 'Downloads'];\n      for (let i = 0; i < 4; i++) {\n        const descriptionItem = document.createElement('li');\n        const descriptionState = document.createElement('p');\n        descriptionState.classList.add('description-state');\n        descriptionState.textContent = descriptionSettings[i];\n        const descriptionValue = document.createElement('p');\n        descriptionValue.classList.add('description-value');\n        if (i === 0) {\n          descriptionValue.textContent = likes;\n        } else if (i === 1) {\n          descriptionValue.textContent = views;\n        } else if (i === 2) {\n          descriptionValue.textContent = comments;\n        } else if (i === 3) {\n          descriptionValue.textContent = downloads;\n        }\n        descriptionItem.append(descriptionState);\n        descriptionItem.append(descriptionValue);\n        description.append(descriptionItem);\n      }\n      item.append(description);\n\n      galleryArr.push(item);\n    }\n  );\n\n  gallery.append(...galleryArr);\n\n  const settings = {\n    captionsData: 'alt',\n    captionDelay: 250,\n  };\n  let galleryBox = new SimpleLightbox('.gallery li a', settings);\n  galleryBox.refresh();\n}\n\n// Очищення галереї\n\nexport function clearGallery() {\n  const items = document.querySelectorAll('.gallery-item');\n  if (items.length != 0) {\n    items.forEach(elem => elem.remove());\n  }\n}\n\n// Показуємо індикатор завантаження\n\nexport function showLoader() {\n  const loading = document.querySelector('.loader');\n  loading.classList.toggle('visible');\n}\n\n// Прибираємо індикатор завантаження\n\nexport function hideLoader() {\n  const loading = document.querySelector('.loader');\n  loading.classList.toggle('visible');\n}\n","import axios from 'axios';\n\nexport default function getImagesByQuery(query) {\n  // Створення параметрів запиту\n\n  const searchParams = new URLSearchParams({\n    key: '52540887-918f2903ad65f90a6d5993705',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n\n  //Відправка запиту\n  return axios\n    .get(`https://pixabay.com/api/?${searchParams}`)\n    .then(response => response.data.hits)\n    .catch(error => error);\n}\n","'use strict';\n\n// Імпорти бібліотек\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Імпорти модулів\n\nimport * as galleryMethods from './js/render-functions';\nimport getImagesByQuery from './js/pixabay-api';\n\n// Обробка сабміту форми\n\nconst form = document.querySelector('.form');\nform.addEventListener('submit', startSearch);\n\nfunction startSearch(event) {\n  event.preventDefault();\n  const searchWords = event.target.elements.word.value.trim();\n  if (searchWords != '') {\n    // Запит та обробка його результату\n\n    galleryMethods.showLoader(); // Показ індикатора завандаження\n    getImagesByQuery(searchWords)\n      .then(value => {\n        // Обробка результату відповіді\n\n        galleryMethods.hideLoader(); // Приховуємо індикатор завантаження\n        // Виводимо всовіщення про невдалий пошук\n\n        if (value.length === 0) {\n          galleryMethods.clearGallery();\n          iziToast.warning({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: '#fff',\n            backgroundColor: 'red',\n            theme: 'dark',\n            position: 'center',\n          });\n        } else {\n          galleryMethods.clearGallery();\n          galleryMethods.createGallery(value);\n        }\n      })\n      .catch(error => {\n        // Обробка помилки\n\n        console.log(error);\n        galleryMethods.hideLoader(); // Приховуємо індикатор завантаженняw\n      });\n    form.reset();\n  } else {\n    // Попередження при порожньому запиті\n\n    iziToast.warning({\n      message: 'Enter word for search...',\n      messageColor: '#fff',\n      backgroundColor: 'red',\n      theme: 'dark',\n      position: 'topRight',\n    });\n  }\n}\n"],"names":["createGallery","images","gallery","galleryArr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","item","link","image","description","descriptionSettings","i","descriptionItem","descriptionState","descriptionValue","settings","SimpleLightbox","clearGallery","items","elem","showLoader","hideLoader","getImagesByQuery","query","searchParams","axios","response","error","form","startSearch","event","searchWords","galleryMethods.showLoader","value","galleryMethods.hideLoader","galleryMethods.clearGallery","iziToast","galleryMethods.createGallery"],"mappings":"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"}